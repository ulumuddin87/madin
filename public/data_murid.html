<script>
async function loadMurid() {
  const res = await fetch('/.netlify/functions/get_murid');
  const data = await res.json();
  const tbody = document.querySelector("#muridTable tbody");
  tbody.innerHTML = "";
  data.forEach(m => {
    tbody.innerHTML += `
      <tr>
        <td>${m.id}</td>
        <td>${m.nama}</td>
        <td>${m.jilid}</td>
        <td>${m.kelas}</td>
        <td>${m.alamat}</td>
        <td>${m.wali_murid}</td>
        <td>${m.wali_kelas}</td>
        <td>
          <a href="edit_murid.html?id=${m.id}">Edit</a>
          <button onclick="hapus(${m.id})">Hapus</button>
        </td>
      </tr>
    `;
  });
}

async function hapus(id) {
  if (!confirm("Yakin hapus?")) return;
  await fetch('/.netlify/functions/delete_murid?id='+id);
  loadMurid();
}

loadMurid();
</script>
